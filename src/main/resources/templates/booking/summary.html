<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Summary</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f5f7fb; padding:20px; }
        .container { max-width: 900px; margin: 0 auto; background:white; border-radius:12px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
        h2 { margin-bottom: 16px; }
        .segment { border:1px solid #e9ecef; border-radius:8px; padding:12px; margin-bottom:10px; background:#f8f9fa; }
        .row { display:flex; justify-content:space-between; margin-bottom:6px; }
        .actions { display:flex; gap:10px; justify-content:flex-end; margin-top:16px; }
        .btn { padding:10px 18px; border:none; border-radius:8px; cursor:pointer; color:white; background:#667eea; }
        .btn.secondary { background:#6c757d; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Review your booking</h2>
        <div th:each="flight,iter : ${flights}" class="segment">
            <div class="row">
                <div><strong th:text="${flight.origin + ' â†’ ' + flight.destination}">Route</strong></div>
                <div th:text="${#temporals.format(flight.departureTime, 'dd/MM/yyyy HH:mm') + ' - ' + #temporals.format(flight.arrivalTime, 'HH:mm')}">time</div>
            </div>
            <div class="row">
                <div>Chosen class:</div>
                <div th:text="${wizard.selectedClasses[iter.index]}">ECONOMY</div>
            </div>
            <div class="row">
                <div>Seat:</div>
                <div th:text="${seats[iter.index].seat.seatNumber + ' (' + seats[iter.index].seat.seatClass + ')'}">12A (ECONOMY)</div>
            </div>
            <div class="row">
                <div>Segment price:</div>
                <div th:text="'$' + ${seats[iter.index].price}">$0</div>
            </div>
        </div>

        <div class="row" style="font-weight:bold; font-size:1.1em;">
            <div>Total:</div>
            <div th:text="'$' + ${totalPrice}">$0</div>
        </div>

        <form th:action="@{/booking/confirm}" method="post">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <div class="actions">
                <a href="/" class="btn secondary" style="text-decoration:none;">Cancel</a>
                <button type="submit" class="btn">Confirm Booking</button>
            </div>
        </form>
    </div>
</body>
</html>


