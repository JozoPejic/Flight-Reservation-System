<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Details</title>
    <link rel="stylesheet" href="/styles.css" />
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f5f7fb; padding:20px; }
        .container { max-width: 900px; margin: 0 auto; background:white; border-radius:12px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
        h2 { margin-bottom:12px; }
        .row { display:flex; justify-content:space-between; margin-bottom:8px; }
        .item { border:1px solid #e9ecef; border-radius:8px; padding:12px; margin-bottom:10px; background:#f8f9fa; }
    </style>
</head>
<body>
    <nav class="navbar" th:replace="~{home :: .navbar}"></nav>
    <div class="container">
        <h2>Booking <span th:text="${booking.id}">1</span></h2>
        <div class="row"><div>Status</div><div th:text="${booking.status}">PENDING</div></div>
        <div class="row"><div>Date</div><div th:text="${#temporals.format(booking.bookingDate, 'dd/MM/yyyy HH:mm')}">date</div></div>
        <div class="row"><div>Total</div><div th:text="'$' + ${booking.totalPrice}">$0</div></div>

        <h3>Segments</h3>
        <div th:each="item : ${bookingItems}" class="item">
            <div class="row"><div>Route</div><div th:text="${item.flightSeat.flight.origin + ' â†’ ' + item.flightSeat.flight.destination}">route</div></div>
            <div class="row"><div>Seat</div><div th:text="${item.flightSeat.seat.seatNumber + ' (' + item.flightSeat.seat.seatClass + ')'}">12A</div></div>
            <div class="row"><div>Price</div><div th:text="'$' + ${item.price}">$0</div></div>
        </div>

        <div style="text-align:right; margin-top:12px;">
            <form th:action="@{'/booking/cancel/view/' + ${booking.id}}" method="post" style="display:inline-block; margin-right:10px;">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button type="submit" style="background:#dc3545; color:white; border:none; padding:8px 12px; border-radius:6px; cursor:pointer;">Cancel booking</button>
            </form>
            <a href="/user/bookings">Back</a>
        </div>
    </div>
</body>
</html>


